From f86e79461781a9b02258a133be6ce52912b93d28 Mon Sep 17 00:00:00 2001
From: insilications <boboniboni@gmail.com>
Date: Tue, 29 Dec 2020 08:25:29 -0300
Subject: [PATCH] LINK_CLAZY_TO_LLVM OFF

---
 CMakeLists.txt | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 46173fa..f75557b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -44,7 +44,7 @@ add_definitions(-D__STDC_LIMIT_MACROS -D__STDC_CONSTANT_MACROS)
 add_definitions(-D_GNU_SOURCE -DHAVE_CLANG_CONFIG_H)
 
 option(CLAZY_AST_MATCHERS_CRASH_WORKAROUND "Disable AST Matchers if being built with clang. See bug #392223" ON)
-option(LINK_CLAZY_TO_LLVM "Links the clazy plugin to LLVM. Switch to OFF if your clang binary has all symbols already. Might need to be OFF if your LLVM is static." ON)
+option(LINK_CLAZY_TO_LLVM "Links the clazy plugin to LLVM. Switch to OFF if your clang binary has all symbols already. Might need to be OFF if your LLVM is static." OFF)
 option(APPIMAGE_HACK "Links the clazy plugin to the clang tooling libs only. For some reason this is needed when building on our old CentOS 6.8 to create the AppImage." OFF)
 option(CLAZY_MAN_PAGE "Builds the man page." ON)
 
@@ -265,9 +265,6 @@ if (NOT CLAZY_BUILD_WITH_CLANG)
   set(CPACK_PACKAGE_VERSION_PATCH ${CLAZY_VERSION_PATCH})
   include(CPack)
 else()
-  set(LLVM_LINK_COMPONENTS
-    Support
-    )
   add_clang_library(clazyPlugin
     ${CLAZY_PLUGIN_SRCS}
 
-- 
2.28.0

